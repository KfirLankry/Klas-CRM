<div class="container">
    <h2 class="text-center mt-4 mb-4">
        <i class="fa-solid fa-user"></i> Add New Order
      </h2>
      <form #addOrder="ngForm" class="formview form-group" (ngSubmit)="onSubmit()">
        <div class="form-floating mb-3">
            <input
              type="date"
              id="startDate"
              class="form-control"
              id="startInput"
              name="start"
              required
              [(ngModel)]="order.start"
              #startDate="ngModel"
              max={{endDate.value}}
            />
        </div>
        <div class="form-floating mb-3">
            <input
              type="date"
              id="endDate"
              class="form-control"
              id="endInput"
              name="end"
              required
              [(ngModel)]="order.end"
              #endDate="ngModel"
              min={{startDate.value}}
            />
        </div>
        <div class="form-floating mb-3">
            <select class="form-control" name="customer" id="customerInput" [(ngModel)]="order.customer_id" #customer="ngModel" required>
                <option *ngFor="let cus of customers" value={{cus.id}}>
                    {{cus.firstName + ' ' + cus.lastName}}
                </option>
            </select>
        </div>
        <div class="form-floating mb-3">
            <select class="form-control" name="car" id="carInput" [(ngModel)]="order.car_id" #car="ngModel" required>
                <option *ngFor="let car of cars" value={{car.id}}>
                    {{car.manufacture + ' ' + car.model}}
                </option>
            </select>
        </div>
    
        <div class="form-floating mb-3">
            <input
              type="number"
              id="sum"
              class="form-control"
              id="sumInput"
              name="sum"
              [(ngModel)]="order.sum"
              #sum="ngModel"
              disabled
              [value]="calcOrderSum(startDate.value, endDate.value, getCarPriceById(car.value))"
            />
        </div>
    
        <div class="form-floating mb-3">
            <textarea
            name="note"
            id="note"
            placeholder="Customer Note.."
            class="form-control w-100 mt-3"
            [(ngModel)]="order.notes"
            #notes="ngModel"
            cols="30"
            rows="10">
        </textarea>
        </div>
        <button [disabled]="!addOrder.valid || !endDate.dirty" type="submit" class="btn btn-dark mt-4 mb-4 w-50">Add</button>
      </form>
      
</div>